{
  "Laravel Resource": {
    "prefix": "resource",
    "body": [
      "<?php",
      "",
      "declare(strict_types=1);",
      "",
      "namespace App\\Http\\Resources;",
      "",
      "use Illuminate\\Http\\Request;",
      "use Illuminate\\Http\\Resources\\Json\\JsonResource;",
      "",
      "/**",
      " * ${1:Resource description}",
      " *",
      " * @package App\\Http\\Resources",
      " */",
      "class ${2:ModelName}Resource extends JsonResource",
      "{",
      "    /**",
      "     * Transform the resource into an array.",
      "     *",
      "     * @return array<string, mixed>",
      "     */",
      "    public function toArray(Request \\$request): array",
      "    {",
      "        return [",
      "            'id' => \\$this->id,",
      "            ${3:'name' => \\$this->name,}",
      "            'created_at' => \\$this->created_at->toIso8601String(),",
      "            'updated_at' => \\$this->updated_at->toIso8601String(),",
      "            ",
      "            // Relationships",
      "            ${4:}",
      "        ];",
      "    }",
      "",
      "    /**",
      "     * Get additional data that should be returned with the resource array.",
      "     *",
      "     * @return array<string, mixed>",
      "     */",
      "    public function with(Request \\$request): array",
      "    {",
      "        return [",
      "            'meta' => [",
      "                'timestamp' => now()->toIso8601String(),",
      "                'version' => '1.0.0',",
      "            ],",
      "        ];",
      "    }",
      "}",
      ""
    ],
    "description": "Create a Laravel API Resource"
  },
  "Resource Collection": {
    "prefix": "resource-collection",
    "body": [
      "<?php",
      "",
      "declare(strict_types=1);",
      "",
      "namespace App\\Http\\Resources;",
      "",
      "use Illuminate\\Http\\Request;",
      "use Illuminate\\Http\\Resources\\Json\\ResourceCollection;",
      "",
      "/**",
      " * ${1:Collection description}",
      " *",
      " * @package App\\Http\\Resources",
      " */",
      "class ${2:ModelName}Collection extends ResourceCollection",
      "{",
      "    /**",
      "     * Transform the resource collection into an array.",
      "     *",
      "     * @return array<string, mixed>",
      "     */",
      "    public function toArray(Request \\$request): array",
      "    {",
      "        return [",
      "            'data' => \\$this->collection,",
      "            'meta' => [",
      "                'total' => \\$this->total(),",
      "                'count' => \\$this->count(),",
      "                'per_page' => \\$this->perPage(),",
      "                'current_page' => \\$this->currentPage(),",
      "                'total_pages' => \\$this->lastPage(),",
      "            ],",
      "            'links' => [",
      "                'first' => \\$this->url(1),",
      "                'last' => \\$this->url(\\$this->lastPage()),",
      "                'prev' => \\$this->previousPageUrl(),",
      "                'next' => \\$this->nextPageUrl(),",
      "            ],",
      "        ];",
      "    }",
      "}",
      ""
    ],
    "description": "Create a Laravel Resource Collection"
  },
  "Resource Conditional Attribute": {
    "prefix": "resource-when",
    "body": [
      "'${1:attribute}' => \\$this->when(${2:\\$request->has('include')}, ${3:\\$this->${1:attribute}}),"
    ],
    "description": "Add conditional attribute"
  },
  "Resource Relationship": {
    "prefix": "resource-relationship",
    "body": [
      "'${1:relation}' => ${2:RelationResource}::collection(\\$this->whenLoaded('${1:relation}')),"
    ],
    "description": "Add relationship to resource"
  }
}
